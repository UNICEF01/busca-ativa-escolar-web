{"version":3,"sources":["js/app.js","js/components/navbar.js","js/controllers/case_search.js","js/controllers/case_view.js","js/controllers/city_search.js","js/controllers/create_alert.js","js/controllers/dashboard.js","js/controllers/parameterize_group.js","js/controllers/reports.js","js/controllers/settings.js","js/controllers/user_search.js","js/modals/alert.js","js/modals/confirm.js","js/modals/prompt.js","js/services/identity.js","js/services/mock_data.js","js/services/modals.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function() {\n\tangular\n\t\t.module('BuscaAtivaEscolar', [\n\n\t\t\t'ngRoute',\n\t\t\t'ngToast',\n\t\t\t'ngAnimate',\n\n\t\t\t'googlechart',\n\t\t\t'highcharts-ng',\n\n\t\t\t'ui.bootstrap',\n\t\t\t'ui.select',\n\t\t])\n\n\t\t.run(function() {\n\n\t\t\t$.material.init();\n\n\t\t\tHighcharts.setOptions({\n\t\t\t\tlang: {\n\t\t\t\t\tmonths: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],\n\t\t\t\t\tshortMonths: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],\n\t\t\t\t\tweekdays: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],\n\t\t\t\t\tloading: ['Atualizando o gráfico...'],\n\t\t\t\t\tcontextButtonTitle: 'Exportar gráfico',\n\t\t\t\t\tdecimalPoint: ',',\n\t\t\t\t\tthousandsSep: '.',\n\t\t\t\t\tdownloadJPEG: 'Baixar imagem JPEG',\n\t\t\t\t\tdownloadPDF: 'Baixar arquivo PDF',\n\t\t\t\t\tdownloadPNG: 'Baixar imagem PNG',\n\t\t\t\t\tdownloadSVG: 'Baixar vetor SVG',\n\t\t\t\t\tprintChart: 'Imprimir gráfico',\n\t\t\t\t\trangeSelectorFrom: 'De',\n\t\t\t\t\trangeSelectorTo: 'Para',\n\t\t\t\t\trangeSelectorZoom: 'Zoom',\n\t\t\t\t\tresetZoom: 'Voltar zoom',\n\t\t\t\t\tresetZoomTitle: 'Voltar zoom para nível 1:1'\n\t\t\t\t}\n\t\t\t});\n\t\t})\n\n\t\t.config(['ngToastProvider', function(ngToast) {\n\t\t\tngToast.configure({\n\t\t\t\tverticalPosition: 'top',\n\t\t\t\thorizontalPosition: 'right',\n\t\t\t\tmaxNumber: 3,\n\t\t\t\tanimation: 'slide',\n\t\t\t\tdismissButton: true,\n\t\t\t\ttimeout: 3000\n\t\t\t});\n\t\t}])\n\n\t\t.config(['$routeProvider', function($routeProvider) {\n\n\t\t\tvar NC = (new Date()).getTime();\n\n\t\t\t$routeProvider.\n\t\t\t\twhen('/dashboard', {\n\t\t\t\t\ttemplateUrl: 'dashboard.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'DashboardCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/cases', {\n\t\t\t\t\ttemplateUrl: 'cases/list.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'CaseSearchCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/cases/create_alert', {\n\t\t\t\t\ttemplateUrl: 'cases/create_alert.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'CreateAlertCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/cases/:case_id', {\n\t\t\t\t\ttemplateUrl: 'cases/view/main.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'CaseViewCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/users', {\n\t\t\t\t\ttemplateUrl: 'users/list.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'UserSearchCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/users/:user_id', {\n\t\t\t\t\ttemplateUrl: 'users/view.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'UserViewCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/cities', {\n\t\t\t\t\ttemplateUrl: 'cities/list.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'CitySearchCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/settings', {\n\t\t\t\t\ttemplateUrl: 'settings/manage_settings.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'SettingsCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/settings/parameterize_group/:group_id', {\n\t\t\t\t\ttemplateUrl: 'settings/parameterize_group.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'ParameterizeGroupCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/reports', {\n\t\t\t\t\ttemplateUrl: 'reports/home.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'ReportsCtrl'\n\t\t\t\t}).\n\t\t\t\totherwise({\n\t\t\t\t\tredirectTo: '/dashboard'\n\t\t\t\t});\n\t\t}]);\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').directive('appNavbar', function (Identity) {\n\n\n\t\tfunction init(scope, element, attrs) {\n\t\t\tscope.identity = Identity;\n\t\t\tscope.cityName = 'São Paulo';\n\t\t\tscope.user = {\n\t\t\t\tname: 'Aryel Tupinambá',\n\t\t\t\ttype: 'Coordenador Operacional'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tlink: init,\n\t\t\ttemplateUrl: 'navbar.html'\n\t\t};\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('CaseSearchCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'cases';\n\t\t$scope.identity = Identity;\n\n\t\t$scope.range = function (start, end) {\n\t\t\tvar arr = [];\n\n\t\t\tfor(var i = start; i <= end; i++) {\n\t\t\t\tarr.push(i);\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('CaseViewCtrl', function ($scope, $rootScope, ngToast, Modals, MockData, Identity) {\n\n\t\t$rootScope.section = 'cases';\n\n\t\t$scope.identity = Identity;\n\t\t$scope.reasons = MockData.alertReasons;\n\n\t\t$scope.isPanelOpen = {};\n\t\t$scope.currentStep = null;\n\t\t$scope.currentForm = null;\n\t\t$scope.message = \"\";\n\t\t$scope.messages = [];\n\n\t\t$scope.steps = {\n\t\t\t'alerta': {id: 'alerta', name: 'Alerta', opens: ['info', 'parents'], next: 'pesquisa'},\n\t\t\t'pesquisa': {id: 'pesquisa', name: 'Pesquisa', opens: ['info', 'parents', 'location'], next: 'analise_tecnica'},\n\t\t\t'analise_tecnica': {id: 'analise_tecnica', name: 'Análise Técnica', opens: ['analise_tecnica'], next: 'consolidacao'},\n\t\t\t'consolidacao': {id: 'consolidacao', name: 'Consolidação', next: 'reinsercao'},\n\t\t\t'reinsercao': {id: 'reinsercao', name: 'Reinserção', next: '1obs'},\n\t\t\t'1obs': {id: '1obs', name: '1a observação', next: '2obs'},\n\t\t\t'2obs': {id: '2obs', name: '2a observação', next: '3obs'},\n\t\t\t'3obs': {id: '3obs', name: '3a observação', next: '4obs'},\n\t\t\t'4obs': {id: '4obs', name: '4a observação'}\n\t\t};\n\n\t\tfunction init() {\n\t\t\t$scope.setCaseStep('pesquisa', true);\n\t\t\t$scope.openForm('pesquisa');\n\t\t}\n\n\t\t$scope.hasNextStep = function() {\n\t\t\tif(!$scope.steps[$scope.currentStep]) return false;\n\t\t\treturn !!$scope.steps[$scope.currentStep].next;\n\t\t};\n\n\t\t$scope.setCaseStep = function(step, skipNotification) {\n\t\t\t$scope.currentStep = step;\n\t\t\t$scope.isPanelOpen = {};\n\n\t\t\tfor(var i in $scope.steps[step].opens) {\n\t\t\t\t$scope.isPanelOpen[$scope.steps[step].opens[i]] = true;\n\t\t\t}\n\n\t\t\tif(skipNotification) return;\n\n\t\t\tngToast.create({\n\t\t\t\tclassName: 'success',\n\t\t\t\tcontent: 'Caso progredido para a etapa ' + $scope.steps[step].name\n\t\t\t});\n\t\t};\n\n\t\t$scope.sendMessage = function () {\n\t\t\t$scope.messages.push({\n\t\t\t\tuser: Identity.getCurrentUser(),\n\t\t\t\tbody: $scope.message\n\t\t\t});\n\n\t\t\t$scope.message = \"\";\n\t\t};\n\n\t\t$scope.sendToApp = function() {\n\t\t\tModals.show(Modals.Alert(\n\t\t\t\t'Ficha enviada para seu dispositivo!',\n\t\t\t\t'Ela estará disponível na área de Notificações do aplicativo Busca Ativa Escolar'\n\t\t\t));\n\t\t};\n\n\t\t$scope.save = function() {\n\t\t\tngToast.create({\n\t\t\t\tclassName: 'success',\n\t\t\t\tcontent: 'Dados salvos na ficha de ' + $scope.steps[$scope.currentStep].name\n\t\t\t});\n\t\t};\n\n\t\t$scope.saveAndProceed = function() {\n\t\t\tif(!$scope.hasNextStep()) return;\n\n\t\t\tModals.show(Modals.Confirm('Tem certeza que deseja prosseguir de etapa?', 'Ao progredir de etapa, a etapa anterior será marcada como concluída.')).then(function () {\n\t\t\t\tvar next = $scope.steps[$scope.currentStep].next;\n\n\t\t\t\tngToast.create({\n\t\t\t\t\tclassName: 'success',\n\t\t\t\t\tcontent: 'Dados salvos na ficha de ' + $scope.steps[$scope.currentStep].name\n\t\t\t\t});\n\n\t\t\t\t$scope.setCaseStep(next);\n\t\t\t\t$scope.openForm(next);\n\t\t\t})\n\n\t\t};\n\n\t\t$scope.openForm = function(form) {\n\n\t\t\tif(form != 'consolidada' && !$scope.isPastStep(form)) {\n\t\t\t\tModals.show(Modals.Alert('Etapa ainda não liberada!', 'Você deve completar a etapa anterior para que a ficha da nova etapa seja liberada.'));\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$scope.currentForm = form;\n\t\t\t$scope.isPanelOpen = {};\n\n\t\t\tif(form == 'consolidada') {\n\t\t\t\t$scope.isPanelOpen = {info: true, location: true, parecer: true};\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor(var i in $scope.steps[form].opens) {\n\t\t\t\t$scope.isPanelOpen[$scope.steps[form].opens[i]] = true;\n\t\t\t}\n\t\t};\n\n\t\t$scope.togglePanel = function(panel) {\n\t\t\t$scope.isPanelOpen[panel] = !$scope.isPanelOpen[panel];\n\t\t};\n\n\t\t$scope.isOpen = function(panel) {\n\t\t\treturn $scope.isPanelOpen[panel] || false;\n\t\t};\n\n\t\t$scope.getFormName = function() {\n\t\t\tif($scope.currentForm == \"consolidada\") return \"Dados consolidados\";\n\t\t\treturn $scope.steps[$scope.currentForm].name;\n\t\t};\n\n\t\t$scope.isPastStep = function(step, skipCurrentStep) {\n\t\t\tif($scope.currentStep == step) return !skipCurrentStep;\n\n\t\t\tfor(var i in $scope.steps) {\n\t\t\t\tif($scope.steps[i].id == step) return true;\n\t\t\t\tif($scope.steps[i].id == $scope.currentStep) return false;\n\t\t\t}\n\t\t};\n\n\t\t$scope.getCaseTimelineClass = function(step) {\n\t\t\tif($scope.currentStep == step) return 'step-current';\n\n\t\t\tfor(var i in $scope.steps) {\n\t\t\t\tif($scope.steps[i].id == step) return 'step-completed';\n\t\t\t\tif($scope.steps[i].id == $scope.currentStep) return 'step-pending';\n\t\t\t}\n\t\t};\n\n\t\tinit();\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('CitySearchCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'cities';\n\t\t$scope.identity = Identity;\n\n\t\t$scope.range = function (start, end) {\n\t\t\tvar arr = [];\n\n\t\t\tfor(var i = start; i <= end; i++) {\n\t\t\t\tarr.push(i);\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('CreateAlertCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'dashboard';\n\n\t\t$scope.identity = Identity;\n\t\t$scope.reasons = MockData.alertReasons;\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('DashboardCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'dashboard';\n\t\t$scope.identity = Identity;\n\t\t$scope.evolutionChart = MockData.evolutionChart;\n\t\t$scope.typesChart = MockData.typesChart;\n\t\t$scope.caseTypesChart = MockData.caseTypesChart;\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('ParameterizeGroupCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'settings';\n\t\t$scope.identity = Identity;\n\n\t\t$scope.reasons = MockData.alertReasons;\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('ReportsCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'reports';\n\t\t$scope.identity = Identity;\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('SettingsCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'settings';\n\t\t$scope.identity = Identity;\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('UserSearchCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'users';\n\t\t$scope.identity = Identity;\n\n\t\t$scope.cities = MockData.cities;\n\t\t$scope.states = MockData.states;\n\t\t$scope.groups = MockData.groups;\n\n\t\t$scope.range = function (start, end) {\n\t\t\tvar arr = [];\n\n\t\t\tfor(var i = start; i <= end; i++) {\n\t\t\t\tarr.push(i);\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular\n\t\t.module('BuscaAtivaEscolar')\n\t\t.controller('AlertModalCtrl', function AlertModalCtrl($scope, $q, $uibModalInstance, message, details) {\n\n\t\t\t$scope.message = message;\n\t\t\t$scope.details = details;\n\n\t\t\t$scope.dismiss = function() {\n\t\t\t\t$uibModalInstance.dismiss();\n\t\t\t};\n\n\t\t});\n\n})();","(function() {\n\n\tangular\n\t\t.module('BuscaAtivaEscolar')\n\t\t.controller('ConfirmModalCtrl', function ConfirmModalCtrl($scope, $q, $uibModalInstance, message, details, canDismiss) {\n\n\t\t\tconsole.log(\"[modal] confirm_modal\", message, details, canDismiss);\n\n\t\t\t$scope.message = message;\n\t\t\t$scope.details = details;\n\t\t\t$scope.canDismiss = canDismiss;\n\n\t\t\t$scope.agree = function() {\n\t\t\t\t$uibModalInstance.close(true);\n\t\t\t};\n\n\t\t\t$scope.disagree = function() {\n\t\t\t\t$uibModalInstance.dismiss(false);\n\t\t\t};\n\n\t\t});\n\n})();","(function() {\n\n\tangular\n\t\t.module('BuscaAtivaEscolar')\n\t\t.controller('PromptModalCtrl', function PromptModalCtrl($scope, $q, $uibModalInstance, question, defaultAnswer, canDismiss) {\n\n\t\t\tconsole.log(\"[modal] prompt_modal\", question, canDismiss);\n\n\t\t\t$scope.question = question;\n\t\t\t$scope.answer = defaultAnswer;\n\n\t\t\t$scope.ok = function() {\n\t\t\t\t$uibModalInstance.close({response: $scope.answer});\n\t\t\t};\n\n\t\t\t$scope.cancel = function() {\n\t\t\t\t$uibModalInstance.dismiss(false);\n\t\t\t};\n\n\t\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').service('Identity', function () {\n\n\t\tvar mockUsers = {\n\t\t\t'agente_comunitario': {name: 'Mary Smith', type: 'Agente Comunitário', can: ['dashboard']},\n\t\t\t'tecnico_verificador': {name: 'Paul Atree', type: 'Técnico Verificador', can: ['dashboard','cases']},\n\t\t\t'supervisor_institucional': {name: 'John Doe', type: 'Supervisor Institucional', can: ['dashboard','cases','reports']},\n\t\t\t'coordenador_operacional': {name: 'Aryel Tupinambá', type: 'Coordenador Operacional', can: ['dashboard','cases','reports','users', 'users.edit', 'users.create', 'settings']},\n\t\t\t'gestor_politico': {name: 'João das Neves', type: 'Gestor Político', can: ['dashboard','reports','users']},\n\t\t\t'unicef': {name: 'Jane Doe', type: 'Gestor UNICEF', can: ['dashboard','reports','cities']},\n\t\t\t'super_administrador': {name: 'Morgan Freeman', type: 'Super Administrador', can: ['dashboard','reports','cities','cities.edit','users','users.edit', 'users.create', 'settings']}\n\t\t};\n\n\t\tvar currentType = 'coordenador_operacional';\n\t\tvar currentUser = mockUsers[currentType];\n\n\t\tfunction getCurrentUser() {\n\t\t\treturn currentUser;\n\t\t}\n\n\t\tfunction can(operation) {\n\t\t\tif(!currentUser) return false;\n\t\t\treturn getCurrentUser().can.indexOf(operation) !== -1;\n\t\t}\n\n\t\tfunction getType() {\n\t\t\treturn currentType;\n\t\t}\n\n\t\tfunction setUserType(type) {\n\t\t\tcurrentType = type;\n\t\t\tcurrentUser = mockUsers[type];\n\t\t}\n\n\t\treturn {\n\t\t\tgetCurrentUser: getCurrentUser,\n\t\t\tgetType: getType,\n\t\t\tcan: can,\n\t\t\tsetUserType: setUserType\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').factory('MockData', function () {\n\n\t\tvar alertReasons = [\n\t\t\t\"Adolescente em conflito com a lei\",\n\t\t\t\"Criança e adolescente em abrigos ou em situação de rua\",\n\t\t\t\"Criança ou adolescente com deficiência(s)\",\n\t\t\t\"Criança ou adolescente com doença(s) que impeça(m) ou dificulte(m) a frequência à escola\",\n\t\t\t\"Criança ou adolescente vítima de abuso / violência sexual\",\n\t\t\t\"Evasão porque sente a escola desinteressante\",\n\t\t\t\"Falta de documentação da criança ou adolescente\",\n\t\t\t\"Falta de infraestrutura escolar\",\n\t\t\t\"Falta de transporte escolar\",\n\t\t\t\"Gravidez na adolescência\",\n\t\t\t\"Racismo\",\n\t\t\t\"Trabalho infantil\",\n\t\t\t\"Violência familiar\",\n\t\t\t\"Violência na escola\"\n\t\t];\n\n\t\tvar states = [\n\t\t\t{id: 'SP', name: 'São Paulo'},\n\t\t\t{id: 'MG', name: 'Minas Gerais'},\n\t\t\t{id: 'RJ', name: 'Rio de Janeiro'},\n\t\t\t{id: 'DF', name: 'Distrito Federal'}\n\t\t];\n\n\t\tvar cities = [\n\t\t\t{id: 1, state: 'SP', name: 'São Paulo'},\n\t\t\t{id: 2, state: 'SP', name: 'Campinas'},\n\t\t\t{id: 3, state: 'MG', name: 'Belo Horizonte'},\n\t\t\t{id: 4, state: 'RJ', name: 'Rio de Janeiro'},\n\t\t\t{id: 5, state: 'DF', name: 'Brasília'}\n\t\t];\n\n\t\tvar groups = [\n\t\t\t{id: 1, name: 'Secretaria de Segurança Pública'},\n\t\t\t{id: 2, name: 'Secretaria da Educação'},\n\t\t\t{id: 3, name: 'Secretaria do Verde e Meio Ambiente'},\n\t\t\t{id: 4, name: 'Secretaria dos Transportes'}\n\t\t];\n\n\t\treturn {\n\n\t\t\talertReasons: alertReasons,\n\n\t\t\tstates: states,\n\t\t\tcities: cities,\n\t\t\tgroups: groups,\n\n\t\t\tcaseTypesChart: {\n\t\t\t\toptions: {\n\t\t\t\t\tchart: {\n\t\t\t\t\t\ttype: 'bar'\n\t\t\t\t\t},\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttext: ''\n\t\t\t\t\t},\n\t\t\t\t\tsubtitle: {\n\t\t\t\t\t\ttext: ''\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\txAxis: {\n\t\t\t\t\tcategories: alertReasons,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttext: null\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tyAxis: {\n\t\t\t\t\tmin: 0,\n\t\t\t\t\ttitle: {\n\t\t\t\t\t\ttext: 'Quantidade de casos',\n\t\t\t\t\t\talign: 'high'\n\t\t\t\t\t},\n\t\t\t\t\tlabels: {\n\t\t\t\t\t\toverflow: 'justify'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\ttooltip: {\n\t\t\t\t\tvalueSuffix: ' casos'\n\t\t\t\t},\n\t\t\t\tplotOptions: {\n\t\t\t\t\tbar: {\n\t\t\t\t\t\tdataLabels: {\n\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tlegend: {\n\t\t\t\t\tlayout: 'vertical',\n\t\t\t\t\talign: 'right',\n\t\t\t\t\tverticalAlign: 'top',\n\t\t\t\t\tx: -40,\n\t\t\t\t\ty: 80,\n\t\t\t\t\tfloating: true,\n\t\t\t\t\tborderWidth: 1,\n\t\t\t\t\tbackgroundColor: ((Highcharts.theme && Highcharts.theme.legendBackgroundColor) || '#FFFFFF'),\n\t\t\t\t\tshadow: true\n\t\t\t\t},\n\t\t\t\tcredits: {\n\t\t\t\t\tenabled: false\n\t\t\t\t},\n\t\t\t\tseries: [\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Alerta',\n\t\t\t\t\t\tdata: [105, 95, 42, 74, 38, 10, 12, 50, 70, 60, 40, 122, 78, 47]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Concluídos',\n\t\t\t\t\t\tdata: [107, 31, 63, 20, 2, 50, 74, 38, 10, 12, 5, 10, 6, 40]\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tname: 'Em andamento',\n\t\t\t\t\t\tdata: [13, 15, 94, 40, 6, 5, 8, 3, 9, 10, 12, 4, 5, 1]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\n\t\t\ttypesChart: {\n\t\t\t\ttype: \"PieChart\",\n\t\t\t\tdata: {\n\t\t\t\t\t\"cols\": [\n\t\t\t\t\t\t{id: \"t\", label: \"Tipo de caso\", type: \"string\"},\n\t\t\t\t\t\t{id: \"s\", label: \"Casos em aberto\", type: \"number\"}\n\t\t\t\t\t], \"rows\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Trabalho infantil\"},\n\t\t\t\t\t\t\t\t{v: 250},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Abuso sexual\"},\n\t\t\t\t\t\t\t\t{v: 40}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Falta de transporte\"},\n\t\t\t\t\t\t\t\t{v: 50},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Outros\"},\n\t\t\t\t\t\t\t\t{v: 120},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tevolutionChart: {\n\t\t\t\ttype: 'LineChart',\n\t\t\t\toptions: {\n\t\t\t\t\t\"colors\": ['#0000FF', '#009900', '#CC0000', '#DD9900'],\n\t\t\t\t\t\"defaultColors\": ['#0000FF', '#009900', '#CC0000', '#DD9900'],\n\t\t\t\t\t\"isStacked\": \"true\",\n\t\t\t\t\t\"fill\": 20,\n\t\t\t\t\t\"displayExactValues\": true,\n\t\t\t\t\t\"vAxis\": {\n\t\t\t\t\t\t\"title\": \"Casos\",\n\t\t\t\t\t\t\"gridlines\": {\n\t\t\t\t\t\t\t\"count\": 10\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"hAxis\": {\n\t\t\t\t\t\t\"title\": \"Período\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\t\"cols\": [{\n\t\t\t\t\t\tid: \"period\",\n\t\t\t\t\t\tlabel: \"Período\",\n\t\t\t\t\t\ttype: \"string\"\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: \"open-cases\",\n\t\t\t\t\t\tlabel: \"Em aberto\",\n\t\t\t\t\t\ttype: \"number\"\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: \"pending-cases\",\n\t\t\t\t\t\tlabel: \"Em progresso\",\n\t\t\t\t\t\ttype: \"number\"\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: \"closed-cases\",\n\t\t\t\t\t\tlabel: \"Encerrados\",\n\t\t\t\t\t\ttype: \"number\"\n\t\t\t\t\t}],\n\t\t\t\t\t\"rows\": [{\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Primeira semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 100\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 15\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 50\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Segunda semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 80\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 20\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 60\n\t\t\t\t\t\t}]\n\n\t\t\t\t\t}, {\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Terceira semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 60\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 30\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 120\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Quarta semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 75\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 25\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 160\n\t\t\t\t\t\t}]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular\n\t\t.module('BuscaAtivaEscolar')\n\t\t.factory('Modals', function($q, $uibModal) {\n\n\t\t\treturn {\n\n\t\t\t\tshow: function(params) {\n\n\t\t\t\t\tvar def = $q.defer();\n\n\t\t\t\t\tvar instance = $uibModal.open(params);\n\n\t\t\t\t\tinstance.result.then(function (data) {\n\t\t\t\t\t\tdef.resolve(data.response);\n\t\t\t\t\t}, function (data) {\n\t\t\t\t\t\tdef.reject(data);\n\t\t\t\t\t});\n\n\t\t\t\t\treturn def.promise;\n\t\t\t\t},\n\n\n\t\t\t\tAlert: function(message, details) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\ttemplateUrl: '/modals/alert.html',\n\t\t\t\t\t\tcontroller: 'AlertModalCtrl',\n\t\t\t\t\t\tsize: 'sm',\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tmessage: function() { return message; },\n\t\t\t\t\t\t\tdetails: function() { return details; }\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n\n\t\t\t\tConfirm: function(message, details, canDismiss) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttemplateUrl: '/modals/confirm.html',\n\t\t\t\t\t\tcontroller: 'ConfirmModalCtrl',\n\t\t\t\t\t\tsize: 'sm',\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tmessage: function() { return message; },\n\t\t\t\t\t\t\tdetails: function() { return details; },\n\t\t\t\t\t\t\tcanDismiss: function() { return canDismiss; }\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!canDismiss) {\n\t\t\t\t\t\tparams.keyboard = false;\n\t\t\t\t\t\tparams.backdrop = 'static';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn params;\n\t\t\t\t},\n\n\t\t\t\tPrompt: function(question, defaultAnswer, canDismiss) {\n\t\t\t\t\tvar params = {\n\t\t\t\t\t\ttemplateUrl: '/modals/prompt.html',\n\t\t\t\t\t\tcontroller: 'PromptModalCtrl',\n\t\t\t\t\t\tsize: 'md',\n\t\t\t\t\t\tresolve: {\n\t\t\t\t\t\t\tquestion: function() { return question; },\n\t\t\t\t\t\t\tdefaultAnswer: function() { return defaultAnswer; },\n\t\t\t\t\t\t\tcanDismiss: function() { return canDismiss; }\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\tif (!canDismiss) {\n\t\t\t\t\t\tparams.keyboard = false;\n\t\t\t\t\t\tparams.backdrop = 'static';\n\t\t\t\t\t}\n\n\t\t\t\t\treturn params;\n\t\t\t\t}\n\n\t\t\t}\n\t\t});\n})();"],"sourceRoot":"/source/"}