{"version":3,"sources":["js/app.js","js/components/navbar.js","js/controllers/case_search.js","js/controllers/case_view.js","js/controllers/dashboard.js","js/controllers/user_search.js","js/services/identity.js","js/services/mock_data.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["(function() {\n\tangular\n\t\t.module('BuscaAtivaEscolar', [\n\n\t\t\t'ngRoute',\n\t\t\t'googlechart',\n\t\t\t'ui.bootstrap'\n\t\t])\n\n\t\t.run(function() {\n\t\t\t$.material.init();\n\t\t})\n\n\t\t.config(['$routeProvider', function($routeProvider) {\n\n\t\t\tvar NC = (new Date()).getTime();\n\n\t\t\t$routeProvider.\n\t\t\t\twhen('/dashboard', {\n\t\t\t\t\ttemplateUrl: 'dashboard.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'DashboardCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/cases', {\n\t\t\t\t\ttemplateUrl: 'cases/list.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'CaseSearchCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/cases/:case_id', {\n\t\t\t\t\ttemplateUrl: 'cases/view.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'CaseViewCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/users', {\n\t\t\t\t\ttemplateUrl: 'users/list.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'UserSearchCtrl'\n\t\t\t\t}).\n\t\t\t\twhen('/users/:user_id', {\n\t\t\t\t\ttemplateUrl: 'users/view.html?NC=' + NC,\n\t\t\t\t\tcontroller: 'UserViewCtrl'\n\t\t\t\t}).\n\t\t\t\totherwise({\n\t\t\t\t\tredirectTo: '/dashboard'\n\t\t\t\t});\n\t\t}]);\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').directive('appNavbar', function (Identity) {\n\n\n\t\tfunction init(scope, element, attrs) {\n\t\t\tscope.identity = Identity;\n\t\t\tscope.cityName = 'São Paulo';\n\t\t\tscope.user = {\n\t\t\t\tname: 'Aryel Tupinambá',\n\t\t\t\ttype: 'Coordenador Operacional'\n\t\t\t};\n\t\t}\n\n\t\treturn {\n\t\t\tlink: init,\n\t\t\ttemplateUrl: 'navbar.html'\n\t\t};\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('CaseSearchCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'cases';\n\t\t$scope.identity = Identity;\n\n\t\t$scope.range = function (start, end) {\n\t\t\tvar arr = [];\n\n\t\t\tfor(var i = start; i <= end; i++) {\n\t\t\t\tarr.push(i);\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('CaseViewCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'cases';\n\n\t\t$scope.identity = Identity;\n\t\t$scope.reasons = MockData.alertReasons;\n\n\t\t$scope.isPanelOpen = {};\n\t\t$scope.currentStep = null;\n\t\t$scope.currentForm = null;\n\n\t\t$scope.steps = {\n\t\t\t'pesquisa': {id: 'pesquisa', name: 'Pesquisa', opens: ['info', 'location']},\n\t\t\t'parecer': {id: 'parecer', name: 'Parecer', opens: ['parecer']},\n\t\t\t'consolidacao': {id: 'consolidacao', name: 'Consolidação'},\n\t\t\t'reinsercao': {id: 'reinsercao', name: 'Reinserção'},\n\t\t\t'1obs': {id: '1obs', name: '1a observação'},\n\t\t\t'2obs': {id: '2obs', name: '2a observação'},\n\t\t\t'3obs': {id: '3obs', name: '3a observação'},\n\t\t\t'4obs': {id: '4obs', name: '4a observação'}\n\t\t};\n\n\t\tfunction init() {\n\t\t\t$scope.setCaseStep('pesquisa');\n\t\t\t$scope.openForm('pesquisa');\n\t\t}\n\n\t\t$scope.setCaseStep = function(step) {\n\t\t\t$scope.currentStep = step;\n\t\t\t$scope.isPanelOpen = {};\n\n\t\t\tfor(var i in $scope.steps[step].opens) {\n\t\t\t\t$scope.isPanelOpen[$scope.steps[step].opens[i]] = true;\n\t\t\t}\n\t\t};\n\n\t\t$scope.openForm = function(form) {\n\n\t\t\tif(form != 'consolidada' && !$scope.isPastStep(form)) {\n\t\t\t\talert(\"Etapa ainda não liberada!\");\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t$scope.currentForm = form;\n\t\t\t$scope.isPanelOpen = {};\n\n\t\t\tif(form == 'consolidada') {\n\t\t\t\t$scope.isPanelOpen = {info: true, location: true, parecer: true};\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor(var i in $scope.steps[form].opens) {\n\t\t\t\t$scope.isPanelOpen[$scope.steps[form].opens[i]] = true;\n\t\t\t}\n\t\t};\n\n\t\t$scope.togglePanel = function(panel) {\n\t\t\t$scope.isPanelOpen[panel] = !$scope.isPanelOpen[panel];\n\t\t};\n\n\t\t$scope.isOpen = function(panel) {\n\t\t\treturn $scope.isPanelOpen[panel] || false;\n\t\t};\n\n\t\t$scope.getFormName = function() {\n\t\t\tif($scope.currentForm == \"consolidada\") return \"com dados consolidados\";\n\t\t\treturn \"na etapa \" + $scope.steps[$scope.currentForm].name;\n\t\t};\n\n\t\t$scope.isPastStep = function(step) {\n\t\t\tif($scope.currentStep == step) return true;\n\n\t\t\tfor(var i in $scope.steps) {\n\t\t\t\tif($scope.steps[i].id == step) return true;\n\t\t\t\tif($scope.steps[i].id == $scope.currentStep) return false;\n\t\t\t}\n\t\t};\n\n\t\t$scope.getCaseTimelineClass = function(step) {\n\t\t\tif($scope.currentStep == step) return 'btn-info';\n\n\t\t\tfor(var i in $scope.steps) {\n\t\t\t\tif($scope.steps[i].id == step) return 'btn-success';\n\t\t\t\tif($scope.steps[i].id == $scope.currentStep) return 'btn-default';\n\t\t\t}\n\t\t};\n\n\t\tinit();\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('DashboardCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'dashboard';\n\t\t$scope.identity = Identity;\n\t\t$scope.evolutionChart = MockData.evolutionChart;\n\t\t$scope.typesChart = MockData.typesChart;\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').controller('UserSearchCtrl', function ($scope, $rootScope, MockData, Identity) {\n\n\t\t$rootScope.section = 'users';\n\t\t$scope.identity = Identity;\n\n\t\t$scope.range = function (start, end) {\n\t\t\tvar arr = [];\n\n\t\t\tfor(var i = start; i <= end; i++) {\n\t\t\t\tarr.push(i);\n\t\t\t}\n\n\t\t\treturn arr;\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').service('Identity', function () {\n\n\t\tvar mockUsers = {\n\t\t\t'agente_comunitario': {name: 'Mary Smith', type: 'Agente Comunitário', can: ['dashboard']},\n\t\t\t'tecnico_verificador': {name: 'Paul Atree', type: 'Técnico Verificador', can: ['dashboard','cases']},\n\t\t\t'supervisor_institucional': {name: 'John Doe', type: 'Supervisor Institucional', can: ['dashboard','cases','reports']},\n\t\t\t'coordenador_operacional': {name: 'Aryel Tupinambá', type: 'Coordenador Operacional', can: ['dashboard','cases','reports','users','settings']},\n\t\t\t'gestor_politico': {name: 'João das Neves', type: 'Gestor Político', can: ['dashboard','reports','users','settings']},\n\t\t\t'super_administrador': {name: 'Morgan Freeman', type: 'Super Administrador', can: ['dashboard','reports','cities','users','settings']}\n\t\t};\n\n\t\tvar currentType = 'coordenador_operacional';\n\t\tvar currentUser = mockUsers[currentType];\n\n\t\tfunction getCurrentUser() {\n\t\t\treturn currentUser;\n\t\t}\n\n\t\tfunction can(operation) {\n\t\t\tif(!currentUser) return false;\n\t\t\treturn getCurrentUser().can.indexOf(operation) !== -1;\n\t\t}\n\n\t\tfunction getType() {\n\t\t\treturn currentType;\n\t\t}\n\n\t\tfunction setUserType(type) {\n\t\t\tcurrentType = type;\n\t\t\tcurrentUser = mockUsers[type];\n\t\t}\n\n\t\treturn {\n\t\t\tgetCurrentUser: getCurrentUser,\n\t\t\tgetType: getType,\n\t\t\tcan: can,\n\t\t\tsetUserType: setUserType\n\t\t}\n\n\t});\n\n})();","(function() {\n\n\tangular.module('BuscaAtivaEscolar').factory('MockData', function () {\n\n\t\treturn {\n\n\t\t\talertReasons: [\n\t\t\t\t\"Adolescente em conflito com a lei\",\n\t\t\t\t\"Criança e adolescente em abrigos ou em situação de rua\",\n\t\t\t\t\"Criança ou adolescente com deficiência(s)\",\n\t\t\t\t\"Criança ou adolescente com doença(s) que impeça(m) ou dificulte(m) a frequência à escola\",\n\t\t\t\t\"Criança ou adolescente vítima de abuso / violência sexual\",\n\t\t\t\t\"Evasão porque sente a escola desinteressante\",\n\t\t\t\t\"Falta de documentação da criança ou adolescente\",\n\t\t\t\t\"Falta de infraestrutura escolar\",\n\t\t\t\t\"Falta de transporte escolar\",\n\t\t\t\t\"Gravidez na adolescência\",\n\t\t\t\t\"Racismo\",\n\t\t\t\t\"Trabalho infantil\",\n\t\t\t\t\"Violência familiar\",\n\t\t\t\t\"Violência na escola\"\n\t\t\t],\n\n\t\t\ttypesChart: {\n\t\t\t\ttype: \"PieChart\",\n\t\t\t\tdata: {\n\t\t\t\t\t\"cols\": [\n\t\t\t\t\t\t{id: \"t\", label: \"Tipo de caso\", type: \"string\"},\n\t\t\t\t\t\t{id: \"s\", label: \"Casos em aberto\", type: \"number\"}\n\t\t\t\t\t], \"rows\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Trabalho infantil\"},\n\t\t\t\t\t\t\t\t{v: 250},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Abuso sexual\"},\n\t\t\t\t\t\t\t\t{v: 40}\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Falta de transporte\"},\n\t\t\t\t\t\t\t\t{v: 50},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tc: [\n\t\t\t\t\t\t\t\t{v: \"Outros\"},\n\t\t\t\t\t\t\t\t{v: 120},\n\t\t\t\t\t\t\t]\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tevolutionChart: {\n\t\t\t\ttype: 'LineChart',\n\t\t\t\toptions: {\n\t\t\t\t\t\"colors\": ['#0000FF', '#009900', '#CC0000', '#DD9900'],\n\t\t\t\t\t\"defaultColors\": ['#0000FF', '#009900', '#CC0000', '#DD9900'],\n\t\t\t\t\t\"isStacked\": \"true\",\n\t\t\t\t\t\"fill\": 20,\n\t\t\t\t\t\"displayExactValues\": true,\n\t\t\t\t\t\"vAxis\": {\n\t\t\t\t\t\t\"title\": \"Casos\",\n\t\t\t\t\t\t\"gridlines\": {\n\t\t\t\t\t\t\t\"count\": 10\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t\"hAxis\": {\n\t\t\t\t\t\t\"title\": \"Período\"\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tdata: {\n\t\t\t\t\t\"cols\": [{\n\t\t\t\t\t\tid: \"period\",\n\t\t\t\t\t\tlabel: \"Período\",\n\t\t\t\t\t\ttype: \"string\"\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: \"open-cases\",\n\t\t\t\t\t\tlabel: \"Em aberto\",\n\t\t\t\t\t\ttype: \"number\"\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: \"pending-cases\",\n\t\t\t\t\t\tlabel: \"Em progresso\",\n\t\t\t\t\t\ttype: \"number\"\n\t\t\t\t\t}, {\n\t\t\t\t\t\tid: \"closed-cases\",\n\t\t\t\t\t\tlabel: \"Encerrados\",\n\t\t\t\t\t\ttype: \"number\"\n\t\t\t\t\t}],\n\t\t\t\t\t\"rows\": [{\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Primeira semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 100\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 15\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 50\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Segunda semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 80\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 20\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 60\n\t\t\t\t\t\t}]\n\n\t\t\t\t\t}, {\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Terceira semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 60\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 30\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 120\n\t\t\t\t\t\t}]\n\t\t\t\t\t}, {\n\t\t\t\t\t\tc: [{\n\t\t\t\t\t\t\tv: \"Quarta semana\"\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 75\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 25\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\tv: 160\n\t\t\t\t\t\t}]\n\t\t\t\t\t}]\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t});\n\n})();"],"sourceRoot":"/source/"}